(function(h,p){typeof exports=="object"&&typeof module!="undefined"?p(require("react")):typeof define=="function"&&define.amd?define(["react"],p):(h=typeof globalThis!="undefined"?globalThis:h||self,p(h.React))})(this,function(h){"use strict";function p(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}var l=p(h);const g=window.open("","_blank","width=800, height=780, toolbar=1"),y=g.document;y.write(`
<html>
<head>
<title>Zoom\u81EA\u52D5\u7B49\u5019\u5BA4\u5916\u639B</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
</head>
<body>
<div id="root"></div>
</body>
</html>
`);const x=y.body,N=y.querySelector("#root"),v=window.document;function S(t){const e=new MouseEvent("mouseover",{bubbles:!0,cancelable:!1});t.dispatchEvent(e)}function O(){return[...v.querySelectorAll(".waiting-room-list-conatiner__ul .participants-li")].map(e=>({name:e.querySelector(".participants-item__display-name").textContent,allow:R(e)}))}function R(t){return()=>{S(t),setTimeout(()=>{t.querySelector(".participants-item__right-section button.btn-primary").click()},10)}}function A(){return v.querySelector(".participants-section-container")?!0:(v.querySelector(".footer-button__participants-icon").parentElement.parentElement.click(),!!v.querySelector(".participants-section-container"))}var w={exports:{}},b={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var k=Object.getOwnPropertySymbols,B=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable;function F(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function P(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var o=Object.getOwnPropertyNames(e).map(function(a){return e[a]});if(o.join("")!=="0123456789")return!1;var c={};return"abcdefghijklmnopqrst".split("").forEach(function(a){c[a]=a}),Object.keys(Object.assign({},c)).join("")==="abcdefghijklmnopqrst"}catch(a){return!1}}P();/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q=l.default,C=60103;if(b.Fragment=60107,typeof Symbol=="function"&&Symbol.for){var E=Symbol.for;C=E("react.element"),b.Fragment=E("react.fragment")}var T=q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,W=Object.prototype.hasOwnProperty,I={key:!0,ref:!0,__self:!0,__source:!0};function _(t,e,n){var o,c={},a=null,s=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(s=e.ref);for(o in e)W.call(e,o)&&!I.hasOwnProperty(o)&&(c[o]=e[o]);if(t&&t.defaultProps)for(o in e=t.defaultProps,e)c[o]===void 0&&(c[o]=e[o]);return{$$typeof:C,type:t,key:a,ref:s,props:c,_owner:T.current}}b.jsx=_,b.jsxs=_,w.exports=b;const r=w.exports.jsx,d=w.exports.jsxs;function L({names:t,onSave:e,onClose:n}){const[o,c]=React.useState(t.join(`
`)),a=React.useCallback(u=>{c(u.target.value)},[c]),s=()=>{const u=new Set(o.split(`
`).map(m=>m.trim()).filter(m=>m));e([...u])};return ReactDOM.createPortal(r("div",{className:"modal fade show d-block",tabindex:"-1",role:"dialog","aria-hidden":"true",children:r("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:d("div",{className:"modal-content",children:[r("div",{className:"modal-header",children:r("h5",{className:"modal-title",children:"\u7DE8\u8F2F\u5141\u8A31\u540D\u55AE"})}),r("div",{className:"modal-body",children:r("textarea",{className:"form-control w-100",rows:10,value:o,onChange:a})}),d("div",{className:"modal-footer",children:[r("button",{type:"submit",className:"btn btn-primary",onClick:s,children:"\u5132\u5B58"}),r("button",{className:"btn btn-secondary",onClick:n,children:"\u53D6\u6D88"})]})]})})}),x)}function $({onChange:t=e=>{}}){const[e,n]=React.useState([]),[o,c]=React.useState(!1);return d("div",{className:"px-3 d-flex flex-column h-100",children:[r("button",{className:"btn btn-primary mb-2",onClick:()=>c(!0),children:"\u7DE8\u8F2F\u5141\u8A31\u540D\u55AE"}),d("ul",{className:"list-group flex-grow-1 overflow-auto",children:[e.map(a=>r("li",{className:"list-group-item",children:a},a)),e.length===0&&r("li",{className:"list-group-item",children:"\u7A7A\u767D\u7684\u5141\u8A31\u6E05\u55AE"})]}),o&&r(L,{names:e,onSave:a=>{n(a),c(!1),t(a)},onClose:()=>c(!1)})]})}function U({logs:t}){const e=l.default.useRef(null);return l.default.useEffect(()=>{e.current&&(e.current.scrollTop=e.current.scrollHeight)},[t]),r("div",{ref:e,style:{whiteSpace:"pre-wrap"},className:"h-100 overflow-auto card",children:r("div",{className:"card-body",children:t.map(n=>d("div",{className:`alert alert-${n.type||"light"}`,children:[r("strong",{children:r("time",{children:n.time.toLocaleTimeString()})})," ",r("span",{children:n.message})]},+n.time))})})}function M(){const[t,e]=l.default.useState([]),n=l.default.useCallback((i,j)=>e(f=>[...f,{time:new Date,message:i,type:j}]),[e]),o=l.default.useRef([]),c=l.default.useCallback(i=>{o.current=i,n(`\u66F4\u65B0\u5141\u8A31\u540D\u55AE
`+i.join(`
`))},[n]),a=l.default.useRef([]),s=l.default.useRef(!1),u=l.default.useCallback(i=>{s.current=i.target.checked,n(`${i.target.checked?"\u958B\u59CB":"\u505C\u6B62"}\u5075\u6E2C\u7B49\u5019\u5BA4`,"info")},[n]),m=l.default.useRef(!0),Z=l.default.useCallback(i=>{m.current=i.target.checked,n(`${i.target.checked?"\u958B\u555F":"\u95DC\u9589"}\u56B4\u683C\u6A21\u5F0F`,"info")},[]);return l.default.useEffect(()=>{const i=g.setInterval(()=>{if(!s.current)return;A();const j=O();for(const f of j)(m.current?o.current.includes(f.name):o.current.some(H=>new RegExp(H).test(f.name)))?(console.debug(o.current,f.name),f.allow(),n(`\u5141\u8A31\u52A0\u5165\uFF1A${f.name}`,"success")):a.current.includes(f.name)||(n(`\u672A\u6388\u6B0A\uFF1A${f.name}`,"danger"),a.current.push(f.name))},5e3);g.onbeforeunload=()=>g.clearInterval(i)},[]),d("div",{className:"d-flex flex-column vh-100 vw-100 p-3",children:[d("header",{className:"mb-3 d-flex",children:[d("div",{class:"form-check mx-3",children:[r("input",{class:"form-check-input",type:"checkbox",id:"detect",defaultChecked:!1,onChange:u}),r("label",{class:"form-check-label",for:"detect",children:"\u5075\u6E2C\u7B49\u5019\u5BA4"})]}),d("div",{class:"form-check mx-3",children:[r("input",{class:"form-check-input",type:"checkbox",id:"strictCompare",defaultChecked:!0,onChange:Z}),r("label",{class:"form-check-label",for:"strictCompare",children:"\u56B4\u683C\u6A21\u5F0F"})]})]}),d("main",{className:"d-flex flex-grow-1 conatiner-fluid overflow-hidden",children:[r("div",{className:"col-12 col-md-4 h-100",children:r($,{onChange:c})}),r("div",{className:"col-12 col-md-8 h-100",children:r(U,{logs:t})})]})]})}ReactDOM.render(r(React.StrictMode,{children:r(M,{})}),N)});
