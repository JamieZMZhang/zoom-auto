(function(m,g){typeof exports=="object"&&typeof module!="undefined"?g(require("react")):typeof define=="function"&&define.amd?define(["react"],g):(m=typeof globalThis!="undefined"?globalThis:m||self,g(m.React))})(this,function(m){"use strict";function g(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}var f=g(m);const b=window.open("","_blank","width=800, height=780, toolbar=1"),_=b.document,A=_.body,j=_.createElement("div");A.appendChild(j);const y=window.document;function C(t){const e=new MouseEvent("mouseover",{bubbles:!0,cancelable:!1});t.dispatchEvent(e)}function k(){return[...y.querySelectorAll(".waiting-room-list-conatiner__ul .participants-li")].map(e=>({name:e.querySelector(".participants-item__display-name").textContent,allow:x(e)}))}function x(t){return()=>{C(t),setTimeout(()=>{t.querySelector(".participants-item__right-section button.btn-primary").click()},10)}}function D(){return y.querySelector(".participants-section-container")?!0:(y.querySelector(".footer-button__participants-icon").parentElement.parentElement.click(),!!y.querySelector(".participants-section-container"))}var v={exports:{}},h={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var O=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable;function B(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function N(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(e).map(function(u){return e[u]});if(r.join("")!=="0123456789")return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(u){o[u]=u}),Object.keys(Object.assign({},o)).join("")==="abcdefghijklmnopqrst"}catch(u){return!1}}N();/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q=f.default,R=60103;if(h.Fragment=60107,typeof Symbol=="function"&&Symbol.for){var E=Symbol.for;R=E("react.element"),h.Fragment=E("react.fragment")}var I=q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,L=Object.prototype.hasOwnProperty,T={key:!0,ref:!0,__self:!0,__source:!0};function S(t,e,n){var r,o={},u=null,l=null;n!==void 0&&(u=""+n),e.key!==void 0&&(u=""+e.key),e.ref!==void 0&&(l=e.ref);for(r in e)L.call(e,r)&&!T.hasOwnProperty(r)&&(o[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)o[r]===void 0&&(o[r]=e[r]);return{$$typeof:R,type:t,key:u,ref:l,props:o,_owner:I.current}}h.jsx=S,h.jsxs=S,v.exports=h;const c=v.exports.jsx,d=v.exports.jsxs,W=v.exports.Fragment;function $({onChange:t=e=>{}}){const[e,n]=React.useState([]),[r,o]=React.useState(""),u=React.useRef("");u.current=r;const l=React.useCallback(a=>o(a.target.value),[o]),p=React.useCallback(a=>{a&&(a.preventDefault(),a.stopPropagation());var i=u.current;if(o(""),e.includes(i))return b.alert("\u5DF2\u5B58\u5728\u5141\u8A31\u540D\u55AE\u4E2D");n(w=>[...w,i])},[o,n]),s=React.useCallback(a=>{const i=a.currentTarget.dataset.name;n(w=>w.filter(Z=>Z!==i))},[]);return React.useEffect(()=>t(e),[e]),d("div",{children:[d("h4",{children:["\u5141\u8A31\u540D\u55AE",e.length===0?"":`\uFF1A ${e.length}\u4EBA`]}),d("ul",{children:[e.map(a=>d("li",{children:[c("button",{"data-name":a,onClick:s,children:"\u522A\u9664"})," ",a]},a)),c("li",{children:d("form",{onSubmit:p,children:[c("input",{required:!0,value:r,onChange:l}),c("button",{type:"submit",children:"\u65B0\u589E"})]})})]})]})}function M({logs:t}){return c("ul",{style:{whiteSpace:"pre-wrap"},children:t.map(e=>d("li",{children:[c("time",{children:e.time.toLocaleTimeString()})," ",c("span",{children:e.message})]},+e.time))})}function U(){const[t,e]=f.default.useState([]),n=f.default.useCallback(s=>e(a=>[...a,{time:new Date,message:s}]),[e]),r=f.default.useRef([]),o=f.default.useCallback(s=>{r.current=s,n(`\u66F4\u65B0\u5141\u8A31\u540D\u55AE
`+s.join(`
`))},[n]),u=f.default.useRef([]),l=f.default.useRef(!1),p=f.default.useCallback(s=>{l.current=s.target.checked},[]);return f.default.useEffect(()=>{const s=b.setInterval(()=>{if(!l.current)return;D();const a=k();for(const i of a)r.current.includes(i.name)?(console.log(r.current,i.name),i.allow(),n(`\u5141\u8A31\u52A0\u5165\uFF1A${i.name}`)):u.current.includes(i.name)||(n(`\u672A\u6388\u6B0A\uFF1A${i.name}`),u.current.push(i.name))},5e3);b.onbeforeunload=()=>b.clearInterval(s)},[]),d(W,{children:[d("div",{children:[c("input",{type:"checkbox",id:"detect",defaultChecked:!1,onChange:p}),c("label",{htmlFor:"detect",children:"\u5075\u6E2C\u7B49\u5019\u5BA4"})]}),d("div",{style:{display:"flex"},children:[c($,{onChange:o}),c(M,{logs:t})]})]})}ReactDOM.render(c(React.StrictMode,{children:c(U,{})}),j)});
